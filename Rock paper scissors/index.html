<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
</html>

<script>
    let player = 0;
    let computer = 0;
    let winner;
    
    function game() {
        for(let i = 0; i < 5; i++){
            playerChoice = playerSelection()
            computerChoice = computerPlay()
            playRound(playerChoice, computerChoice);
        }
    }

    function playerSelection() {
        let playerSelection = prompt("Choose rock, paper or scissors");
        playerSelection = playerSelection.toLowerCase();
        return playerSelection;
    }
    
    function computerPlay() {
        let number = Math.floor((Math.random() * 3));
        if (number === 0) {
            return 'rock';
        } else if (number === 1) {
            return 'paper';
        } else {
            return 'scissors';
        }
    }

    function checkWinner(choicePlayer, choiceComputer) {
        if (choicePlayer === choiceComputer) {
            winner = 'tie';
        } else if (choicePlayer == 'rock' && choiceComputer == 'scissors' ||
                   choicePlayer == 'scissors' && choiceComputer == 'paper' ||
                   choicePlayer == 'paper' && choiceComputer == "rock"){
            winner = 'player';
        } else {
            winner = 'computer';
        }
        return winner;
    }

    function updateScore() {
        if (winner == 'tie') {
            player = player;
            computer = computer;
        } else if (winner == 'player') {
            player += 1;
        } else {
            computer += 1;
        }
    }

    function playRound(playerSelection, computerSelection) {
        checkWinner(playerChoice, computerChoice);
        if (winner == 'tie'){
            console.log(`The computer chose ${computerSelection} and the player chose ${playerSelection}`)
            console.log("That's a tie")
            updateScore()
            console.log(`The new score is: 
            Player: ${player} , Computer: ${computer}`)
        } else if (winner == 'player'){
            console.log(`The computer chose ${computerSelection} and the player chose ${playerSelection}`)
            console.log("Player won")
            updateScore()
            console.log(`The new score is: 
            Player: ${player} , Computer: ${computer}`)
        } else {
            console.log(`The computer chose ${computerSelection} and the player chose ${playerSelection}`)
            console.log("Computer won")
            updateScore()
            console.log(`The new score is: 
            Player: ${player} , Computer: ${computer}`)
        }
    }

    game()

    
</script>